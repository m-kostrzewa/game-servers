---
# Handlers - Triggered tasks

- name: restart nds service
  systemd:
    name: "{{ nds_service_name }}"
    state: restarted
    enabled: yes
  async: 600  # 10-minute timeout for SteamCMD update + server startup + mod loading
  poll: 10    # Check every 10 seconds

- name: systemctl daemon-reload
  systemd:
    daemon_reload: yes

- name: restart prometheus
  docker_container:
    name: prometheus
    restart: yes

- name: restart promtail
  docker_container:
    name: promtail
    restart: yes

<?xml version="1.0"?>
<SkirmishDedicatedServerConfig xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<!--
	Generated by Ansible - Do not edit manually
	Server: {{ inventory_hostname }} ({{ server_id }})
	Timestamp: {{ ansible_date_time.iso8601 }}
	-->

	<!-- Name of your server as you want it to appear in the server browser.  -->
	<ServerName>{{ server_name }}</ServerName>

	<!-- Optional password -->
	{% if vault_server_admin_password is defined and vault_server_admin_password | length > 0 %}
	<Password>{{ vault_server_admin_password }}</Password>
	{% else %}
	<!-- <Password></Password> -->
	{% endif %}

	<!-- Maximum number of players allowed to connect.  The number of players per team is still decided by the map -->
	<MaxPlayers>12</MaxPlayers>

	<!-- 
	This is the port all gameplay traffic will be sent over.  
	It must be open for TCP in/out. 
	When using the Direct Join button, this is the port you put at the end of the IP.
	-->
	<GamePort>{{ game_port }}</GamePort>
	<!-- 
	This is the port the Steam server browser will query your server on.  
	Must be open for UDP inbound.  If this port is filtered your server will not be visible. 
	-->
	<QueryPort>27016</QueryPort>

	<!-- The number of players that must be present on each team before the game can start. -->
	<TeamSizeToStart>1</TeamSizeToStart>

	<!-- This message is sent to each player who joins. -->
	<MOTD>
Welcome to Bizarre Adventure!

Use !help to show available commands.

Problems? Message admins on the official discord.
	</MOTD>

	<!-- 
	Listed 64-bit Steam ID's will be registered as admins and can execute ! commands 
	on the server without requiring a vote. They will also have the Host badge next to their
	name in the lobby.
	-->
	{% if vault_admin_steam_id is defined and vault_admin_steam_id | length > 0 %}
	<Admins>
		<unsignedLong>{{ vault_admin_steam_id }}</unsignedLong>
	</Admins>
	{% else %}
	<!-- <Admins></Admins> -->
	{% endif %}

	<!-- Players can votes on maps, scenarios, and rules by default.  Uncomment this line to disable it. -->
	<!-- <AllowMapVoting>false</AllowMapVoting> -->

	<!-- Only one scenario can be selected for the server.  You can select it by name or key -->
	<Scenario>Control</Scenario>

	<!-- List all maps in the map rotation here. Add by name or key. -->
	{% if maps is defined and maps | length > 0 %}
	<Maps>
	{% for m in maps %}
		<string>{{ m }}</string>
	{% endfor %}
	</Maps>
	{% else %}
	<!-- <Maps></Maps> -->
	{% endif %}

	<!-- Defines the order the maps will be selected in.  Options are Sequential and Random. -->
	<MapRotation>Random</MapRotation>

	<!-- 
	Bots listed here will be created each time the server returns to the lobby.
	Only the Team field is required.  Everything else can be left blank and colors, fleet, and badge will
	be chosen randomly for each bot.
	-->
	<Bots>
		<Bot>
			<Team>TeamB</Team>
			<Colors>
				<BaseColor>
					<r>1</r>
					<g>1</g>
					<b>1</b>
					<a>1</a>
				</BaseColor>
				<StripeColor>
					<r>1</r>
					<g>1</g>
					<b>1</b>
					<a>1</a>
				</StripeColor>
				<Prefix>OSPN</Prefix>
			</Colors>
			<Badge>OSP_Roundel</Badge>
			<Fleet>Starter Fleets - Alliance/TF Oak.fleet</Fleet>
		</Bot>
	</Bots>

	<!-- 
	If this is set to true, your server will show the "Mod Friendly" icon.
	This setting MUST be enabled in order for players to use modded fleets.
	The list of permitted mods is found below.
	-->
	<!-- <AllowModdedFleets>true</AllowModdedFleets> -->

	<!--
	Enable mods for your server here. Provide the Steam ID of the mod, which can be found in its workshop URL.
	Any mod found in this list will be permitted for use in a player fleet, but only if AllowModdedFleets is set to true.
	If you intend to use modded maps in your rotation, they must be included here as well.
	-->
	{% if mods is defined and mods | length > 0 %}
	<Mods>
	{% for mod in mods %}
		<unsignedLong>{{ mod }}</unsignedLong>
	{% endfor %}
	</Mods>
	{% else %}
	<!-- <Mods></Mods> -->
	{% endif %}

</SkirmishDedicatedServerConfig>
